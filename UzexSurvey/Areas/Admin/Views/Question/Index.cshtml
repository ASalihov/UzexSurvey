@model IEnumerable<DAL.Entities.Question>

@{
    ViewBag.Title = "Index";
}

<h2>Quiz "@ViewBag.QuizName"</h2>

<div class="btn">
    <a href="@Url.Action("Create", "Question", new {quizId = ViewBag.QuizId, Area = "Admin" })" class="btn btn-success btn-sm create-question">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
    </a>
</div>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Body)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.QuizId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.QuestionType)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Body)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.QuizId)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.QuestionType)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.Id })
        </td>
    </tr>
}

</table>


<div id='questionModal' class='modal fade in'>
    <div class="modal-dialog">
        <div class="modal-content">
            <div id='questionModalContent'></div>
        </div>
    </div>
</div>



<script type="text/javascript">
    $(function () {
        $(".create-question").on('click', function (e) {
            $("#questionModalContent").load(this.href, function(){
                $('#questionModal').modal({ keyboard: true }, 'show');
            })
            return false;
        })
    })
</script>